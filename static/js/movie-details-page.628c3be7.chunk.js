(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{100:function(e,t,n){"use strict";n.r(t);var a=n(64),c=n(61),r=n.n(c),s=n(62),o=n(57),i=n(58),l=n(60),u=n(59),h=n(0),m=n(10),j=n(3),v=n(56),d=n(75),p=n.n(d),f=(n(94),n(1)),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={cast:[],error:null},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("componentDidMount"),t=this.props.match.params.movieId,console.log("from Cast movieId:",t),e.next=5,p.a.get("".concat(v.a.BASE_URL,"movie/").concat(t,"/credits?api_key=").concat(v.a.MY_KEY,"&language=en-US")).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}));case 5:n=e.sent,this.setState(Object(a.a)({},n.data)),console.log(this.state.cast);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.cast;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("ul",{className:"CastGallery",children:e.length>0?e.map((function(e){var t=e.name,n=e.profile_path,a=e.character,c=e.cast_id;return Object(f.jsxs)("li",{className:"ImageGalleryItem",children:[Object(f.jsx)("img",{src:n?"".concat(v.a.IMG_URL).concat(n):"".concat(v.a.defaultImage),alt:t}),Object(f.jsx)("p",{children:t}),Object(f.jsxs)("p",{children:["Character: ",a]})]},c)})):Object(f.jsx)("p",{children:"We don't have any cast for this movie"})})})}}]),n}(h.Component),O=n(63),g=(n(17),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={reviews:[],error:null},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.movieId,v.a.fetchReviews(t).then((function(e){return n.setState({reviews:e})})).catch((function(e){O.b.error(e.message),n.setState({error:e.message})})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.reviews;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("ul",{children:e.length>0?e.map((function(e){var t=e.id,n=e.author,a=e.content;return Object(f.jsxs)("li",{children:[Object(f.jsx)("h2",{children:n}),Object(f.jsx)("p",{children:a})]},t)})):Object(f.jsx)("p",{children:"We don't have any reviews for this movie"})})})}}]),n}(h.Component)),x=n(2),y=function(e){var t=e.movie,n=t.backdrop_path,a=t.genres,c=t.overview,r=t.release_date,s=t.title,o=t.name,i=t.vote_average;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"Card Container",children:[Object(f.jsx)("img",{src:n?"".concat(v.a.IMG_URL).concat(n):"".concat(v.a.defaultImage),alt:s||o}),Object(f.jsxs)("div",{className:"CardInfo",children:[Object(f.jsx)("h1",{children:s||o}),i>0&&Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"Title",children:"User Score: "}),10*i,"%"]}),r&&Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"Title",children:"Release date: "}),r]}),c&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:"Overview"}),Object(f.jsx)("p",{children:c})]}),null!==a&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:"Genres"}),Object(f.jsx)("ul",{className:"Genres",children:a.map((function(e){var t=e.id,n=e.name;return Object(f.jsx)("li",{className:"GenresItem",children:n},t)}))})]})]})]})})};y.defaultProps={movie:n.n(x).a.shape({backdrop_path:v.a.defaultImage.string})};var w=y,k=n(8),N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={movie:null,loading:!1,error:null},e.handleGoBack=function(){var t;console.log("back!");var n=e.props,a=n.location;n.history.push((null===a||void 0===a||null===(t=a.state)||void 0===t?void 0:t.from)||k.a.movies)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0}),t=this.props.match.params.movieId,v.a.fetchMovieDetails(t).then((function(e){return n.setState({movie:e})})).catch((function(e){O.b.error(e.message),n.setState({error:e.message})})).finally((function(){return n.setState({loading:!1})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.movie;e.loading;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{type:"button",className:"BackButton Button",onClick:this.handleGoBack,children:"Back"}),this.state.movie&&Object(f.jsx)(w,{movie:t}),Object(f.jsxs)("ul",{className:"NavList",children:[Object(f.jsx)("li",{className:"NavLink-item",children:Object(f.jsx)(m.c,{exact:!0,to:"".concat(this.props.match.url,"/cast"),className:"NavLink",activeClassName:"NavLink--active",children:"Cast"})}),Object(f.jsx)("li",{className:"NavLink-item",children:Object(f.jsx)(m.c,{exact:!0,to:"".concat(this.props.match.url,"/reviews"),className:"NavLink",activeClassName:"NavLink--active",children:"Reviews"})})]}),Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{path:"".concat(this.props.match.path,"/cast"),render:function(e){console.log(e);var t=Number(e.match.params.movieId);return console.log(t),Object(f.jsx)(b,Object(a.a)(Object(a.a)({},e),{},{movieId:t}))}}),Object(f.jsx)(j.b,{path:"".concat(this.props.match.path,"/reviews"),component:g})]})]})}}]),n}(h.Component);t.default=N},56:function(e,t,n){"use strict";var a="https://api.themoviedb.org/3/",c="66acb4573ba980ae8ac5981a52e8de6b",r="https://image.tmdb.org/t/p/".concat("w500","/"),s="".concat(r,"wwemzKWzjKYJFfCeiB57q3r4Bcm.png");var o={fetchTrendingMovies:function(){var e="".concat(a,"trending/all/day?api_key=").concat(c);return fetch(e).then((function(e){return e.ok?e.json().then((function(e){return e.results})).then((function(e){return e.filter((function(e){return"movie"===e.media_type}))})):Promise.reject(new Error("Trending movies not found!"))}))},fetchMovieDetails:function(e){return fetch("".concat(a,"movie/").concat(e,"?api_key=").concat(c,"&language=en-US")).then((function(e){return e.json()}))},fetchCast:function(e){return fetch("".concat(a,"movie/").concat(e,"/credits?api_key=").concat(c,"&language=en-US")).then((function(e){return e.json()}))},fetchReviews:function(e){return fetch("".concat(a,"movie/").concat(e,"/reviews?api_key=").concat(c,"&language=en-US&page=1")).then((function(e){return e.json()})).then((function(e){return e.results}))},fetchMoviesWithQuery:function(e){return fetch("".concat(a,"search/movie?api_key=").concat(c,"&language=en-US&query=").concat(e,"&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(e){return e.results}))},MY_KEY:c,BASE_URL:a,defaultImage:s,IMG_URL:r};t.a=o},94:function(e,t,n){}}]);
//# sourceMappingURL=movie-details-page.628c3be7.chunk.js.map