(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},87:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(18),s=n.n(r),i=(n(39),n(40),n(9)),o=n(3),l=n(10),h=n.n(l),j=n(12),u=n(13),d=n(14),m=n(16),v=n(15),p="https://api.themoviedb.org/3/",b="66acb4573ba980ae8ac5981a52e8de6b",O="https://image.tmdb.org/t/p/".concat("w500","/"),f="".concat(O,"wwemzKWzjKYJFfCeiB57q3r4Bcm.png");var x={fetchTrendingMovies:function(){var e="".concat(p,"trending/all/day?api_key=").concat(b);return fetch(e).then((function(e){return e.ok?e.json().then((function(e){return e.results})).then((function(e){return e.filter((function(e){return"movie"===e.media_type}))})):Promise.reject(new Error("Trending movies not found!"))}))},MY_KEY:b,BASE_URL:p,defaultImage:f,IMG_URL:O,fetchCast:function(e){return fetch("".concat(p,"movie/").concat(e,"/credits?api_key=").concat(b,"&language=en-US")).then((function(e){return e.json()}))},fetchReviews:function(e){return fetch("".concat(p,"movie/").concat(e,"/reviews?api_key=").concat(b,"&language=en-US&page=1")).then((function(e){return e.json()})).then((function(e){return e.results}))}},g=n(32),y=n.n(g),k=n(1),w=function(){return Object(k.jsx)(y.a,{type:"Oval",color:"#00BFFF",height:300,width:300,timeout:2500})},N=n(34),_=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={movies:[],loading:!1,error:null},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0}),x.fetchTrendingMovies().then((function(e){return t.setState({movies:e})})).catch((function(e){N.a.error(e.message),t.setState({error:e.message})})).finally((function(){return t.setState({loading:!1})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.movies,n=e.loading;return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{children:"Trending today"}),n?Object(k.jsx)(w,{}):Object(k.jsx)("ul",{children:t.map((function(e){return Object(k.jsx)("li",{children:Object(k.jsx)(i.b,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})]})}}]),n}(c.Component),I=function(){return Object(k.jsx)("h1",{children:"Movies Page"})},C=n(17),L=n(19),S=n.n(L),M=(n(87),function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={cast:[],error:null},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,console.log(t),e.next=4,S.a.get("".concat(x.BASE_URL,"movie/").concat(t,"/credits?api_key=").concat(x.MY_KEY,"&language=en-US")).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}));case 4:n=e.sent,this.setState(Object(C.a)({},n.data)),console.log(this.state.cast);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.cast;return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("ul",{className:"CastGallery",children:e.length>0?e.map((function(e){var t=e.name,n=e.profile_path,c=e.character,a=e.cast_id;return Object(k.jsxs)("li",{className:"ImageGalleryItem",children:[Object(k.jsx)("img",{src:n?"".concat(x.IMG_URL).concat(n):"".concat(x.defaultImage),alt:t}),Object(k.jsx)("p",{children:t}),Object(k.jsxs)("p",{children:["Character: ",c]})]},a)})):Object(k.jsx)("p",{children:"We don't have any cast for this movie"})})})}}]),n}(c.Component)),F=function(){return Object(k.jsx)("h1",{children:"Reviews"})},U=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={backdrop_path:"",genres:[],overview:"",release_date:"",title:"",name:"",vote_average:null,movie:null,loading:!1,error:null},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),console.log(Number(this.props.match.params.movieId)),t=this.props.match.params.movieId,e.next=5,S.a.get("".concat(x.BASE_URL,"movie/").concat(t,"?api_key=").concat(x.MY_KEY,"&language=en-US"));case 5:n=e.sent,this.setState(Object(C.a)({},n.data));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.backdrop_path,c=t.genres,a=t.overview,r=t.release_date,s=t.title,l=t.name,h=t.vote_average;t.movie;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"Card",children:[Object(k.jsx)("img",{src:n?"".concat(x.IMG_URL).concat(n):"".concat(x.defaultImage),alt:s||l}),Object(k.jsxs)("div",{className:"CardInfo",children:[Object(k.jsx)("h1",{children:s||l}),h>0&&Object(k.jsxs)("p",{children:[Object(k.jsx)("span",{className:"Title",children:"User Score: "}),10*h,"%"]}),r&&Object(k.jsxs)("p",{children:[Object(k.jsx)("span",{className:"Title",children:"Release date: "}),r]}),a&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{children:"Overview"}),Object(k.jsx)("p",{children:a})]}),null!==c&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{children:"Genres"}),Object(k.jsx)("ul",{className:"Genres",children:c.map((function(e){var t=e.id,n=e.name;return Object(k.jsx)("li",{className:"GenresItem",children:n},t)}))})]})]})]}),Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsx)(i.c,{exact:!0,to:"".concat(this.props.match.url,"/cast"),className:"NavLink",activeClassName:"NavLink--active",children:"Cast"})}),Object(k.jsx)("li",{children:Object(k.jsx)(i.c,{exact:!0,to:"".concat(this.props.match.path,"/reviews"),className:"NavLink",activeClassName:"NavLink--active",children:"Reviews"})})]}),Object(k.jsx)(o.a,{path:"".concat(this.props.match.path,"/cast"),render:function(t){return Object(k.jsx)(M,Object(C.a)(Object(C.a)({},t),{},{movieId:e.props.match.params.movieId}))}}),Object(k.jsx)(o.a,{path:"".concat(this.props.match.path,"/reviews"),component:F})]})}}]),n}(c.Component),R=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsx)(i.c,{exact:!0,to:"/",className:"NavLink",activeClassName:"NavLink--active",children:"Home"})}),Object(k.jsx)("li",{children:Object(k.jsx)(i.c,{exact:!0,to:"/movies",className:"NavLink",activeClassName:"NavLink--active",children:"Movies search"})}),Object(k.jsx)("li",{children:Object(k.jsx)(i.c,{exact:!0,to:"/movies/:movieId",className:"NavLink",activeClassName:"NavLink--active",children:"Movie Details Page"})})]}),Object(k.jsxs)(o.c,{children:[Object(k.jsx)(o.a,{exact:!0,path:"/",component:_}),Object(k.jsx)(o.a,{path:"/movies/:movieId",component:U}),Object(k.jsx)(o.a,{exact:!0,path:"/movies",component:I}),Object(k.jsx)(o.a,{component:_})]})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};n(88);s.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(i.a,{children:Object(k.jsx)(R,{})})}),document.getElementById("root")),E()}},[[89,1,2]]]);
//# sourceMappingURL=main.f88bebbe.chunk.js.map